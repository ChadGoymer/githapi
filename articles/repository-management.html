<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Repository Management â€¢ githapi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Repository Management">
<meta property="og:description" content="githapi">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">githapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/configuration.html">Configuration</a>
    </li>
    <li>
      <a href="../articles/repository-management.html">Repository Management</a>
    </li>
    <li>
      <a href="../articles/release-management.html">Release Management</a>
    </li>
    <li>
      <a href="../articles/issue-management.html">Issue Management</a>
    </li>
    <li>
      <a href="../articles/project-management.html">Project Management</a>
    </li>
    <li>
      <a href="../articles/user-management.html">User Management</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Release Notes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../news/news-1.0.html">Release 1.0</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Development Versions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/ChadGoymer/githapi" class="external-link">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="repository-management_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Repository Management</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ChadGoymer/githapi/blob/master/vignettes/repository-management.Rmd" class="external-link"><code>vignettes/repository-management.Rmd</code></a></small>
      <div class="hidden name"><code>repository-management.Rmd</code></div>

    </div>

    
    
<p>The {githapi} package can be used to manage repositories within GitHub. It allows you to create repositories, add branches and upload commits without having to clone them locally in Git. In fact, the GitHub API provides a lot of the functionality of Git.</p>
<p>Projects can be created for repositories, users or organizations. In this article we create a dummy repository for the authenticated user.</p>
<div id="repositories" class="section level2">
<h2 class="hasAnchor">
<a href="#repositories" class="anchor" aria-hidden="true"></a>Repositories</h2>
<div id="creating-repositories" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-repositories" class="anchor" aria-hidden="true"></a>Creating Repositories</h3>
<p>Creating a repository, for the authenticated user, is very straight forward using the <code><a href="../reference/create_repository.html">create_repository()</a></code> function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/create_repository.html">create_repository</a></span><span class="op">(</span>
  name        <span class="op">=</span> <span class="st">"test-repository"</span>,
  description <span class="op">=</span> <span class="st">"This is a test repository"</span>,
  auto_init   <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<pre><code># POST https://api.github.com/user/repos
List of 29
  id                : int 373521349
  name              : chr "test-repository"
  full_name         : chr "ChadGoymer/test-repository"
  description       : chr "This is a test repository"
  owner             : chr "ChadGoymer"
  homepage          : chr NA
  language          : chr NA
  size              : num 0
  default_branch    : chr "main"
  permission        : chr "admin"
  private           : logi FALSE
  has_issues        : logi TRUE
  has_projects      : logi TRUE
  has_wiki          : logi TRUE
  has_pages         : logi FALSE
  has_downloads     : logi TRUE
  allow_squash_merge: logi TRUE
  allow_merge_commit: logi TRUE
  allow_rebase_merge: logi TRUE
  fork              : logi FALSE
  archived          : logi FALSE
  disabled          : logi FALSE
  watchers_count    : int 0
  stargazers_count  : int 0
  forks_count       : int 0
  html_url          : chr "https://github.com/ChadGoymer/test-repository"
  pushed_at         : POSIXct[1:1], format: "2021-06-03 14:42:15"
  created_at        : POSIXct[1:1], format: "2021-06-03 14:42:14"
  updated_at        : POSIXct[1:1], format: "2021-06-03 14:42:14"</code></pre>
<p>The <code>auto_init</code> argument initialises the repository by committing a basic <code>README.md</code>. You can also create a repository for an organization, if you have permission, by setting the <code>org</code> argument. An existing repository can be updated using <code><a href="../reference/update_repository.html">update_repository()</a></code>.</p>
</div>
<div id="viewing-repositories" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-repositories" class="anchor" aria-hidden="true"></a>Viewing Repositories</h3>
<p>To view all the repositories a user or organization has use <code><a href="../reference/view_repositories.html">view_repositories()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_repositories.html">view_repositories</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/user/repos?type=all&amp;sort=created&amp;direction=desc&amp;per_page=100
# A tibble: 14 x 29
       id name  full_name description owner homepage language  size default_branch permission private
    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;      &lt;lgl&gt;  
 1 3.74e8 test~ ChadGoym~ This is a ~ Chad~ NA       NA           0 main           admin      FALSE  
 2 3.21e8 gh    ChadGoym~ Minimalist~ Chad~ https:/~ NA        1173 master         admin      FALSE  
 3 3.21e8 gert  ChadGoym~ Simple git~ Chad~ https:/~ NA         565 master         admin      FALSE  
 4 3.21e8 shar~ ChadGoym~ A R packag~ Chad~ NA       NA          45 master         admin      FALSE  
 5 3.04e8 earl~ ChadGoym~ NA          Chad~ NA       NA           1 main           admin      FALSE  
 6 2.24e8 .git~ ChadGoym~ Issue and ~ Chad~ NA       NA           1 master         admin      FALSE  
 7 1.68e8 msgr  ChadGoym~ An R packa~ Chad~ http://~ R          625 main           admin      FALSE  
 8 1.14e8 r-be~ ChadGoym~ A set of g~ Chad~ NA       CSS      41205 master         admin      FALSE  
 9 9.69e7 git-~ ChadGoym~ Simple gui~ Chad~ NA       NA           2 master         admin      FALSE  
10 9.34e7 gith~ ChadGoym~ User-frien~ Chad~ http://~ R         6601 main           admin      FALSE  
11 8.08e7 r-tr~ ChadGoym~ Training m~ Chad~ NA       R         1229 master         admin      FALSE  
12 4.24e7 r-py~ ChadGoym~ NA          Chad~ NA       HTML      1172 master         admin      FALSE  
13 4.24e7 shin~ ChadGoym~ NA          Chad~ NA       HTML     13408 master         admin      FALSE  
14 3.93e7 chad~ ChadGoym~ My persona~ Chad~ NA       HTML         2 master         admin      FALSE  
# ... with 18 more variables: has_issues &lt;lgl&gt;, has_projects &lt;lgl&gt;, has_wiki &lt;lgl&gt;, has_pages &lt;lgl&gt;,
#   has_downloads &lt;lgl&gt;, allow_squash_merge &lt;lgl&gt;, allow_merge_commit &lt;lgl&gt;, allow_rebase_merge &lt;lgl&gt;,
#   fork &lt;lgl&gt;, archived &lt;lgl&gt;, disabled &lt;lgl&gt;, watchers_count &lt;int&gt;, stargazers_count &lt;int&gt;,
#   forks_count &lt;int&gt;, html_url &lt;chr&gt;, pushed_at &lt;dttm&gt;, created_at &lt;dttm&gt;, updated_at &lt;dttm&gt;</code></pre>
<p>Note this returns a tibble of repository properties. You can also view the properties of a single repository using <code><a href="../reference/view_repositories.html">view_repository()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_repositories.html">view_repository</a></span><span class="op">(</span><span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository
List of 29
  id                : int 373521349
  name              : chr "test-repository"
  full_name         : chr "ChadGoymer/test-repository"
  description       : chr "This is a test repository"
  owner             : chr "ChadGoymer"
  homepage          : chr NA
  language          : chr NA
  size              : num 0
  default_branch    : chr "main"
  permission        : chr "admin"
  private           : logi FALSE
  has_issues        : logi TRUE
  has_projects      : logi TRUE
  has_wiki          : logi TRUE
  has_pages         : logi FALSE
  has_downloads     : logi TRUE
  allow_squash_merge: logi TRUE
  allow_merge_commit: logi TRUE
  allow_rebase_merge: logi TRUE
  fork              : logi FALSE
  archived          : logi FALSE
  disabled          : logi FALSE
  watchers_count    : int 0
  stargazers_count  : int 0
  forks_count       : int 0
  html_url          : chr "https://github.com/ChadGoymer/test-repository"
  pushed_at         : POSIXct[1:1], format: "2021-06-03 14:42:15"
  created_at        : POSIXct[1:1], format: "2021-06-03 14:42:14"
  updated_at        : POSIXct[1:1], format: "2021-06-03 14:42:18"</code></pre>
</div>
<div id="deleting-repositories" class="section level3">
<h3 class="hasAnchor">
<a href="#deleting-repositories" class="anchor" aria-hidden="true"></a>Deleting Repositories</h3>
<p>Finally, you can also delete repositories, if you have permission, using <code><a href="../reference/delete_repository.html">delete_repository()</a></code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/delete_repository.html">delete_repository</a></span><span class="op">(</span><span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># DELETE https://api.github.com/repos/ChadGoymer/test-repository
[1] TRUE</code></pre>
</div>
</div>
<div id="branches" class="section level2">
<h2 class="hasAnchor">
<a href="#branches" class="anchor" aria-hidden="true"></a>Branches</h2>
<div id="creating-branches" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-branches" class="anchor" aria-hidden="true"></a>Creating Branches</h3>
<p>If the repository has been auto-initialised it will already have a main branch. To create a branch you must associate it with an existing commit. This can be done using <a href="#git-references">Git references</a>, which can be a commit SHA-1, a branch or a tag. For example, to create a new branch from the current main branch we can use:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/create_branch.html">create_branch</a></span><span class="op">(</span><span class="st">"test"</span>, ref <span class="op">=</span> <span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># POST https://api.github.com/repos/ChadGoymer/test-repository/git/refs
List of 4
  name     : chr "test"
  sha      : chr "0f75a9e3a9b3fc5bb641088e71fa955d3ef02ffe"
  protected: logi FALSE
  html_url : chr "https://api.github.com/repos/ChadGoymer/test-repository/commits/0f75a9e3a9b3fc5bb641088e"..</code></pre>
<p>You can also update existing branches using <code><a href="../reference/update_branch.html">update_branch()</a></code>, which allows you to point it at a new commit.</p>
</div>
<div id="viewing-branches" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-branches" class="anchor" aria-hidden="true"></a>Viewing Branches</h3>
<p>To view all the branches in a repository use <code><a href="../reference/view_branches.html">view_branches()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_branches.html">view_branches</a></span><span class="op">(</span><span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/branches?per_page=100
# A tibble: 2 x 4
  name  sha                        protected html_url                                                         
* &lt;chr&gt; &lt;chr&gt;                      &lt;lgl&gt;     &lt;chr&gt;                                                            
1 main  0f75a9e3a9b3fc5bb641088e7~ FALSE     https://api.github.com/repos/ChadGoymer/test-repository/commits/~
2 test  0f75a9e3a9b3fc5bb641088e7~ FALSE     https://api.github.com/repos/ChadGoymer/test-repository/commits/~</code></pre>
<p>To view the properties of a single branch, use <code><a href="../reference/view_branches.html">view_branch()</a></code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_branches.html">view_branch</a></span><span class="op">(</span><span class="st">"test"</span>, <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/branches/test
List of 4
  name     : chr "test"
  sha      : chr "0f75a9e3a9b3fc5bb641088e71fa955d3ef02ffe"
  protected: logi FALSE
  html_url : chr "https://api.github.com/repos/ChadGoymer/test-repository/commits/0f75a9e3a9b3fc5bb641088e"..</code></pre>
</div>
<div id="deleting-branches" class="section level3">
<h3 class="hasAnchor">
<a href="#deleting-branches" class="anchor" aria-hidden="true"></a>Deleting Branches</h3>
<p>Finally, to delete a branch use <code><a href="../reference/delete_branch.html">delete_branch()</a></code>:</p>
<pre><code>delete_branch("test", "ChadGoymer/test-repository")</code></pre>
<pre><code># DELETE https://api.github.com/repos/ChadGoymer/test-repository/git/refs/heads/test
[1] TRUE</code></pre>
</div>
</div>
<div id="commits" class="section level2">
<h2 class="hasAnchor">
<a href="#commits" class="anchor" aria-hidden="true"></a>Commits</h2>
<div id="downloading-commits" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-commits" class="anchor" aria-hidden="true"></a>Downloading Commits</h3>
<p>Downloading commit is very straight forward using <code><a href="../reference/download_commit.html">download_commit()</a></code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">repo_path</span> <span class="op">&lt;-</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/file_temp.html" class="external-link">path_temp</a></span><span class="op">(</span><span class="st">"test-repository"</span><span class="op">)</span>
<span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/create.html" class="external-link">dir_create</a></span><span class="op">(</span><span class="va">repo_path</span><span class="op">)</span>

<span class="fu"><a href="../reference/download_commit.html">download_commit</a></span><span class="op">(</span><span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>, path <span class="op">=</span> <span class="va">repo_path</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/zipball/main
[1] "C:/Users/chadg/AppData/Local/Temp/RtmpgzA0Td/test-repository"</code></pre>
</div>
<div id="uploading-commits" class="section level3">
<h3 class="hasAnchor">
<a href="#uploading-commits" class="anchor" aria-hidden="true"></a>Uploading commits</h3>
<p>Creating new commits is a rather complicated process through the GitHub API, but {githapi} provides several functions to simplify it. The most obvious approach is to use <code><a href="../reference/upload_commit.html">upload_commit()</a></code>. This uploads all the files and folders in a given directory and create a new commit on the specified branch.</p>
<p>Note: <code><a href="../reference/upload_commit.html">upload_commit()</a></code> creates a commit with exactly the same content as the specified directory. If you want to change individual files within a commit and leave the other files unchanged then take a look at the <a href="#files">Files</a> section below.</p>
<p><code><a href="../reference/upload_commit.html">upload_commit()</a></code> works well in conjunction with <code><a href="../reference/download_commit.html">download_commit()</a></code>. For example, you can download a commit, make some changes locally then upload the new commit.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/create.html" class="external-link">file_create</a></span><span class="op">(</span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">repo_path</span>, <span class="st">"test.R"</span><span class="op">)</span><span class="op">)</span>
<span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_lines.html" class="external-link">write_lines</a></span><span class="op">(</span><span class="st">"print('Hello World!')"</span>, <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">repo_path</span>, <span class="st">"test.R"</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="../reference/upload_commit.html">upload_commit</a></span><span class="op">(</span>
  path    <span class="op">=</span> <span class="va">repo_path</span>,
  branch  <span class="op">=</span> <span class="st">"main"</span>,
  message <span class="op">=</span> <span class="st">"Added hello world script"</span>,
  repo    <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>
<span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits/98d2308af91886f00958da7b484ac046cba9dd98
List of 13
  sha            : chr "98d2308af91886f00958da7b484ac046cba9dd98"
  message        : chr "Added hello world script"
  author_login   : chr "ChadGoymer"
  author_name    : chr "Chad Goymer"
  author_email   : chr "chad.goymer@gmail.com"
  author_date    : POSIXct[1:1], format: "2021-06-03 14:45:44"
  committer_login: chr "ChadGoymer"
  committer_name : chr "Chad Goymer"
  committer_email: chr "chad.goymer@gmail.com"
  committer_date : POSIXct[1:1], format: "2021-06-03 14:45:44"
  tree_sha       : chr "afef03907400fe7bd64585f8b55b89964d0b9cd3"
  parents        : chr "0f75a9e3a9b3fc5bb641088e71fa955d3ef02ffe"
  html_url       : chr "https://github.com/ChadGoymer/test-repository/commit/98d2308af91886f00958da7b484ac"..</code></pre>
<p>If the specified <code>branch</code> does not exist, a new branch will be created. This will be an orphan branch unless <code>parents</code> are specified. For example, to create a new branch from the main branch then use:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/upload_commit.html">upload_commit</a></span><span class="op">(</span>
  path    <span class="op">=</span> <span class="va">repo_path</span>,
  branch  <span class="op">=</span> <span class="st">"test"</span>,
  message <span class="op">=</span> <span class="st">"Added hello world script"</span>,
  repo    <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>,
  parents <span class="op">=</span> <span class="st">"main"</span>
<span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits/73452a7ef01f9678b258994d10ca04a18cbb8dc4
List of 13
  sha            : chr "73452a7ef01f9678b258994d10ca04a18cbb8dc4"
  message        : chr "Added hello world script"
  author_login   : chr "ChadGoymer"
  author_name    : chr "Chad Goymer"
  author_email   : chr "chad.goymer@gmail.com"
  author_date    : POSIXct[1:1], format: "2021-06-03 14:46:09"
  committer_login: chr "ChadGoymer"
  committer_name : chr "Chad Goymer"
  committer_email: chr "chad.goymer@gmail.com"
  committer_date : POSIXct[1:1], format: "2021-06-03 14:46:09"
  tree_sha       : chr "afef03907400fe7bd64585f8b55b89964d0b9cd3"
  parents        : chr "98d2308af91886f00958da7b484ac046cba9dd98"
  html_url       : chr "https://github.com/ChadGoymer/test-repository/commit/73452a7ef01f9678b258994d10ca0"..</code></pre>
<p>You can also specify two parents, as a character vector, which will result in a merge commit.</p>
</div>
<div id="viewing-commits" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-commits" class="anchor" aria-hidden="true"></a>Viewing Commits</h3>
<p>You can view the history of commits for any git reference using <code><a href="../reference/view_commits.html">view_commits()</a></code>:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_commits.html">view_commits</a></span><span class="op">(</span><span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits?sha=main&amp;per_page=100
# A tibble: 2 x 13
  sha   message author_login author_name author_email author_date         committer_login committer_name
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;        &lt;dttm&gt;              &lt;chr&gt;           &lt;chr&gt;         
1 98d2~ Added ~ ChadGoymer   Chad Goymer chad.goymer~ 2021-06-03 14:45:44 ChadGoymer      Chad Goymer   
2 0f75~ Initia~ ChadGoymer   Chad Goymer chad.goymer~ 2021-06-03 14:42:15 web-flow        GitHub        
# ... with 5 more variables: committer_email &lt;chr&gt;, committer_date &lt;dttm&gt;, tree_sha &lt;chr&gt;, parents &lt;list&gt;,
#   html_url &lt;chr&gt;</code></pre>
<p>This list can also be filtered by providing: - <code>path</code>: Show commits where this file has been changed - <code>author</code>: Show commits by this author - <code>since</code>: Show commits from a specified date &amp; time - <code>until</code>: Show commits up to a specified date &amp; time</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_commits.html">view_commits</a></span><span class="op">(</span>
  ref  <span class="op">=</span> <span class="st">"main"</span>, 
  repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>,
  path <span class="op">=</span> <span class="st">"test.R"</span>
<span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits?sha=main&amp;path=test.R&amp;per_page=100
# A tibble: 1 x 13
  sha   message author_login author_name author_email author_date         committer_login committer_name
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;        &lt;dttm&gt;              &lt;chr&gt;           &lt;chr&gt;         
1 98d2~ Added ~ ChadGoymer   Chad Goymer chad.goymer~ 2021-06-03 14:45:44 ChadGoymer      Chad Goymer   
# ... with 5 more variables: committer_email &lt;chr&gt;, committer_date &lt;dttm&gt;, tree_sha &lt;chr&gt;, parents &lt;list&gt;,
#   html_url &lt;chr&gt;</code></pre>
<p>Also, you can view the properties of an individual commit using <code><a href="../reference/view_commits.html">view_commit()</a></code>:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_commits.html">view_commit</a></span><span class="op">(</span><span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits/main
List of 13
  sha            : chr "98d2308af91886f00958da7b484ac046cba9dd98"
  message        : chr "Added hello world script"
  author_login   : chr "ChadGoymer"
  author_name    : chr "Chad Goymer"
  author_email   : chr "chad.goymer@gmail.com"
  author_date    : POSIXct[1:1], format: "2021-06-03 14:45:44"
  committer_login: chr "ChadGoymer"
  committer_name : chr "Chad Goymer"
  committer_email: chr "chad.goymer@gmail.com"
  committer_date : POSIXct[1:1], format: "2021-06-03 14:45:44"
  tree_sha       : chr "afef03907400fe7bd64585f8b55b89964d0b9cd3"
  parents        : chr "0f75a9e3a9b3fc5bb641088e71fa955d3ef02ffe"
  html_url       : chr "https://github.com/ChadGoymer/test-repository/commit/98d2308af91886f00958da7b484ac"..</code></pre>
</div>
<div id="git-references" class="section level3">
<h3 class="hasAnchor">
<a href="#git-references" class="anchor" aria-hidden="true"></a>Git References</h3>
<p>{githapi} uses the concept of Git References extensively to identify commits. In Git each commit has a unique ID, known as the SHA-1 (or just SHA). A reference is essentially a label pointing to a particular commit, and therefore an alias for a SHA. Tags provide a way to identify a commit with a more readable and memorable name, but branches are also just labels which point at a head commit. Therefore, you can use a SHA, branch or tag to identify a commit in {githapi} functions.</p>
<p>If you want to identify the SHA for a given branch or tag, you can use the <code><a href="../reference/view_sha.html">view_sha()</a></code> function:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_sha.html">view_sha</a></span><span class="op">(</span><span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits/main
[1] "98d2308af91886f00958da7b484ac046cba9dd98"</code></pre>
</div>
</div>
<div id="files" class="section level2">
<h2 class="hasAnchor">
<a href="#files" class="anchor" aria-hidden="true"></a>Files</h2>
<div id="downloading-files" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-files" class="anchor" aria-hidden="true"></a>Downloading Files</h3>
<p>{githapi} provides a number of functions for interacting with files in GitHub. You can download a file to a specified location, using <code><a href="../reference/download_file.html">download_file()</a></code>:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_script</span> <span class="op">&lt;-</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/file_temp.html" class="external-link">file_temp</a></span><span class="op">(</span><span class="st">"test-"</span>, ext <span class="op">=</span> <span class="st">"R"</span><span class="op">)</span>

<span class="fu"><a href="../reference/download_file.html">download_file</a></span><span class="op">(</span>
  from_path <span class="op">=</span> <span class="st">"test.R"</span>,
  to_path   <span class="op">=</span> <span class="va">test_script</span>,
  ref       <span class="op">=</span> <span class="st">"main"</span>,
  repo      <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>
<span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/git/blobs/73fb7c3fbdbf4258a2d08f15fa7d4cd8556d0b67
[1] "C:/Users/chadg/AppData/Local/Temp/RtmpgzA0Td/test-3a4c53112e9f.R"</code></pre>
</div>
<div id="uploading-files" class="section level3">
<h3 class="hasAnchor">
<a href="#uploading-files" class="anchor" aria-hidden="true"></a>Uploading Files</h3>
<p>Similarly you can upload files with <code><a href="../reference/upload_files.html">upload_files()</a></code>. This function differs from <code><a href="../reference/upload_commit.html">upload_commit()</a></code> in that it only creates or updates the files specifed. Any files that existed in the parent commit and not uploaded will remain the same. <code><a href="../reference/upload_commit.html">upload_commit()</a></code> would effectively delete those files to make the commit identical to the content of the specified directory.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/upload_files.html">upload_files</a></span><span class="op">(</span>
  from_path <span class="op">=</span> <span class="va">test_script</span>,
  to_path   <span class="op">=</span> <span class="st">"test-2.R"</span>,
  branch    <span class="op">=</span> <span class="st">"main"</span>,
  message   <span class="op">=</span> <span class="st">"Added hello world script again"</span>,
  repo      <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>
<span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits/456e0ba9eee4a8d33ab0aecc825a2278a6211ecc
List of 13
  sha            : chr "456e0ba9eee4a8d33ab0aecc825a2278a6211ecc"
  message        : chr "Added hello world script again"
  author_login   : chr "ChadGoymer"
  author_name    : chr "Chad Goymer"
  author_email   : chr "chad.goymer@gmail.com"
  author_date    : POSIXct[1:1], format: "2021-06-03 14:48:16"
  committer_login: chr "ChadGoymer"
  committer_name : chr "Chad Goymer"
  committer_email: chr "chad.goymer@gmail.com"
  committer_date : POSIXct[1:1], format: "2021-06-03 14:48:16"
  tree_sha       : chr "0561371151d34a0e42da3fa88b8de55743625a67"
  parents        : chr "98d2308af91886f00958da7b484ac046cba9dd98"
  html_url       : chr "https://github.com/ChadGoymer/test-repository/commit/456e0ba9eee4a8d33ab0aecc825a2"..</code></pre>
</div>
<div id="viewing-files" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-files" class="anchor" aria-hidden="true"></a>Viewing Files</h3>
<p>To view the files within a commit use <code><a href="../reference/view_files.html">view_files()</a></code>:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_files.html">view_files</a></span><span class="op">(</span><span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/git/trees/0561371151d34a0e42da3fa88b8de55743625a67?recursive=TRUE
# A tibble: 3 x 4
  path     sha                          size html_url                                                         
* &lt;chr&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                                                            
1 README.~ 6ef7aa157f3ca12af4757ca96f~    44 https://github.com/ChadGoymer/test-repository/blob/456e0ba9eee4a~
2 test-2.R 73fb7c3fbdbf4258a2d08f15fa~    22 https://github.com/ChadGoymer/test-repository/blob/456e0ba9eee4a~
3 test.R   73fb7c3fbdbf4258a2d08f15fa~    22 https://github.com/ChadGoymer/test-repository/blob/456e0ba9eee4a~</code></pre>
<p>To view the properties of a single file use <code><a href="../reference/view_files.html">view_file()</a></code>:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/view_files.html">view_file</a></span><span class="op">(</span><span class="st">"test.R"</span>, ref <span class="op">=</span> <span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/contents/test.R?ref=main
List of 4
  path    : chr "test.R"
  sha     : chr "73fb7c3fbdbf4258a2d08f15fa7d4cd8556d0b67"
  size    : num 22
  html_url: chr "https://github.com/ChadGoymer/test-repository/blob/main/test.R"</code></pre>
</div>
<div id="reading-writing-files" class="section level3">
<h3 class="hasAnchor">
<a href="#reading-writing-files" class="anchor" aria-hidden="true"></a>Reading &amp; Writing Files</h3>
<p>You can read files directly using <code><a href="../reference/read_github_file.html">read_github_file()</a></code> or <code><a href="../reference/read_github_file.html">read_github_lines()</a></code>. These functions use <code><a href="https://readr.tidyverse.org/reference/read_file.html" class="external-link">readr::read_file()</a></code> and <code><a href="https://readr.tidyverse.org/reference/read_lines.html" class="external-link">readr::read_lines()</a></code> to parse the file:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/read_github_file.html">read_github_lines</a></span><span class="op">(</span><span class="st">"test.R"</span>, ref <span class="op">=</span> <span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/git/blobs/73fb7c3fbdbf4258a2d08f15fa7d4cd8556d0b67
[1] "print('Hello World!')"</code></pre>
<p>Conversely, you can write files, creating a new commit using <code><a href="../reference/write_github_file.html">write_github_file()</a></code> or <code><a href="../reference/write_github_file.html">write_github_lines()</a></code>:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/write_github_file.html">write_github_lines</a></span><span class="op">(</span>
  content <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>
    <span class="st">'helloworld &lt;- function() {'</span>,
    <span class="st">'  print(\"Hello World\")'</span>,
    <span class="st">'}'</span>
  <span class="op">)</span>,
  path    <span class="op">=</span> <span class="st">"helloworld.R"</span>,
  branch  <span class="op">=</span> <span class="st">"main"</span>,
  message <span class="op">=</span> <span class="st">"Added helloworld function"</span>,
  repo    <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>
<span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits/eead248abc41f73ec208f37f26d6b3dbf0a99540
List of 13
  sha            : chr "eead248abc41f73ec208f37f26d6b3dbf0a99540"
  message        : chr "Added helloworld function"
  author_login   : chr "ChadGoymer"
  author_name    : chr "Chad Goymer"
  author_email   : chr "chad.goymer@gmail.com"
  author_date    : POSIXct[1:1], format: "2021-06-03 14:49:31"
  committer_login: chr "ChadGoymer"
  committer_name : chr "Chad Goymer"
  committer_email: chr "chad.goymer@gmail.com"
  committer_date : POSIXct[1:1], format: "2021-06-03 14:49:31"
  tree_sha       : chr "e935f0656c190db9b8c16385d0f1fb67ac469d08"
  parents        : chr "456e0ba9eee4a8d33ab0aecc825a2278a6211ecc"
  html_url       : chr "https://github.com/ChadGoymer/test-repository/commit/eead248abc41f73ec208f37f26d6b"..</code></pre>
<p>You can also source R scripts directly from GitHub using <code><a href="../reference/github_source.html">github_source()</a></code>:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/github_source.html">github_source</a></span><span class="op">(</span><span class="st">"helloworld.R"</span>, ref <span class="op">=</span> <span class="st">"main"</span>, repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span><span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/git/blobs/3ef2abea311f31851f1b4310f6582e4bc399c6fd
List of 2
  value  :function ()  
  visible: logi FALSE</code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">helloworld</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>[1] "Hello World"</code></pre>
<p>{githapi} also include functions for reading and writing CSVs into a GitHub repository, for example:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/write_github_file.html">write_github_csv</a></span><span class="op">(</span>
  content <span class="op">=</span> <span class="va">mtcars</span>,
  path    <span class="op">=</span> <span class="st">"mtcars.csv"</span>,
  branch  <span class="op">=</span> <span class="st">"main"</span>,
  message <span class="op">=</span> <span class="st">"Added mtcars data"</span>,
  repo    <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>
<span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/commits/27b6d9ada6de1f39f25091a204affa582f003a43
List of 13
  sha            : chr "27b6d9ada6de1f39f25091a204affa582f003a43"
  message        : chr "Added mtcars data"
  author_login   : chr "ChadGoymer"
  author_name    : chr "Chad Goymer"
  author_email   : chr "chad.goymer@gmail.com"
  author_date    : POSIXct[1:1], format: "2021-06-03 14:50:13"
  committer_login: chr "ChadGoymer"
  committer_name : chr "Chad Goymer"
  committer_email: chr "chad.goymer@gmail.com"
  committer_date : POSIXct[1:1], format: "2021-06-03 14:50:13"
  tree_sha       : chr "27a6b1e5de05446e800890dc02034940cca2b361"
  parents        : chr "eead248abc41f73ec208f37f26d6b3dbf0a99540"
  html_url       : chr "https://github.com/ChadGoymer/test-repository/commit/27b6d9ada6de1f39f25091a204aff"..</code></pre>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/read_github_file.html">read_github_csv</a></span><span class="op">(</span>
  path <span class="op">=</span> <span class="st">"mtcars.csv"</span>,
  ref  <span class="op">=</span> <span class="st">"main"</span>,
  repo <span class="op">=</span> <span class="st">"ChadGoymer/test-repository"</span>
<span class="op">)</span></code></pre></div>
<pre><code># GET https://api.github.com/repos/ChadGoymer/test-repository/git/blobs/d154466a828814fea6f9d1a1cefd8ca093517aaa
# A tibble: 32 x 11
     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
 * &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
 2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
 3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
 4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
 5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
 6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
 7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
 8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
 9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
# ... with 22 more rows</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Chad Goymer.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
